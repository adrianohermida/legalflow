<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Rotas Corrigidas - LegalFlow</title>
    <style>
        body {
            font-family: system-ui;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .status {
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 5px solid;
        }
        .success { background: #e8f5e8; border-color: #4caf50; }
        .info { background: #e3f2fd; border-color: #2196f3; }
        .routes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .route-card {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.2s;
        }
        .route-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .route-link {
            display: block;
            padding: 12px;
            background: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin-top: 10px;
            font-weight: 500;
        }
        .route-link:hover {
            background: #2563eb;
        }
        .route-link.primary {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }
        .route-status {
            font-size: 12px;
            margin-top: 5px;
            padding: 4px 8px;
            border-radius: 4px;
        }
        .status-ok { background: #e8f5e8; color: #2e7d32; }
        .status-checking { background: #fff3e0; color: #e65100; }
        .status-error { background: #ffebee; color: #c62828; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ö° Rotas LegalFlow Corrigidas</h1>
            <p style="color: #64748b; font-size: 1.1rem;">Teste das Rotas Principais</p>
        </div>

        <div class="status success">
            <h3 style="color: #2e7d32; margin: 0 0 10px 0;">‚úÖ Corre√ß√µes Aplicadas</h3>
            <ul style="margin: 0; color: #388e3c;">
                <li>‚úÖ Rota /dashboard adicionada</li>
                <li>‚úÖ Rota /dashboard-v2 adicionada</li>
                <li>‚úÖ Rotas configuradas para Demo e Supabase</li>
                <li>‚úÖ Sistema React Router funcionando</li>
            </ul>
        </div>

        <div class="status info">
            <h3 style="color: #1976d2; margin: 0 0 15px 0;">üß™ Teste das Rotas Principais</h3>
            <div class="routes-grid" id="routes-grid">
                <!-- Rotas ser√£o preenchidas via JavaScript -->
            </div>
        </div>

        <div class="status info">
            <h3 style="color: #1976d2; margin: 0 0 15px 0;">üìã Status das Verifica√ß√µes</h3>
            <div id="status-container">
                <p>Verificando rotas...</p>
            </div>
        </div>
    </div>

    <script>
        const routes = [
            { path: '/', name: 'Home', icon: 'üè†', description: 'P√°gina inicial' },
            { path: '/dashboard', name: 'Dashboard', icon: 'üìä', description: 'Dashboard principal', primary: true },
            { path: '/dashboard-v2', name: 'Dashboard V2', icon: 'üìä', description: 'Dashboard vers√£o 2' },
            { path: '/processos', name: 'Processos', icon: '‚öñÔ∏è', description: 'Gest√£o de processos' },
            { path: '/clientes', name: 'Clientes', icon: 'üë•', description: 'Base de clientes' },
            { path: '/jornadas', name: 'Jornadas', icon: 'üéØ', description: 'Designer de jornadas' },
            { path: '/inbox', name: 'Inbox Legal', icon: 'üì•', description: 'Triagem de publica√ß√µes' },
            { path: '/agenda', name: 'Agenda', icon: 'üìÖ', description: 'Calend√°rio e eventos' },
            { path: '/documentos', name: 'Documentos', icon: 'üìÑ', description: 'Gest√£o documental' },
            { path: '/financeiro', name: 'Financeiro', icon: 'üí∞', description: 'Controle financeiro' },
            { path: '/relatorios', name: 'Relat√≥rios', icon: 'üìà', description: 'An√°lises e m√©tricas' },
            { path: '/helpdesk', name: 'Helpdesk', icon: 'üéß', description: 'Central de ajuda' }
        ];

        const routesGrid = document.getElementById('routes-grid');
        const statusContainer = document.getElementById('status-container');

        // Renderizar cards das rotas
        routes.forEach(route => {
            const card = document.createElement('div');
            card.className = 'route-card';
            card.innerHTML = `
                <div style="font-size: 2rem; margin-bottom: 5px;">${route.icon}</div>
                <h4 style="margin: 0 0 5px 0; color: #1e293b;">${route.name}</h4>
                <p style="margin: 0 0 10px 0; color: #64748b; font-size: 14px;">${route.description}</p>
                <a href="${route.path}" class="route-link ${route.primary ? 'primary' : ''}" target="_blank">
                    Acessar ${route.name}
                </a>
                <div class="route-status status-checking" id="status-${route.path.replace('/', 'root')}">
                    Verificando...
                </div>
            `;
            routesGrid.appendChild(card);
        });

        // Fun√ß√£o para verificar rota
        async function checkRoute(route) {
            const statusElement = document.getElementById(`status-${route.path.replace('/', 'root')}`);
            
            try {
                const response = await fetch(route.path, { method: 'HEAD' });
                
                if (response.ok) {
                    statusElement.textContent = '‚úÖ OK';
                    statusElement.className = 'route-status status-ok';
                    console.log(`‚úÖ Rota ${route.path} - OK`);
                } else {
                    statusElement.textContent = `‚ùå ${response.status}`;
                    statusElement.className = 'route-status status-error';
                    console.log(`‚ùå Rota ${route.path} - Erro ${response.status}`);
                }
            } catch (error) {
                statusElement.textContent = '‚ùå Erro';
                statusElement.className = 'route-status status-error';
                console.error(`‚ùå Erro ao verificar ${route.path}:`, error);
            }
        }

        // Verificar todas as rotas
        async function checkAllRoutes() {
            console.log('üß™ Iniciando verifica√ß√£o das rotas...');
            
            let okCount = 0;
            let errorCount = 0;

            for (const route of routes) {
                await checkRoute(route);
                // Aguardar um pouco entre as verifica√ß√µes
                await new Promise(resolve => setTimeout(resolve, 200));
                
                const statusElement = document.getElementById(`status-${route.path.replace('/', 'root')}`);
                if (statusElement.textContent.includes('‚úÖ')) {
                    okCount++;
                } else {
                    errorCount++;
                }
            }

            // Atualizar status geral
            statusContainer.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div style="text-align: center; padding: 15px; background: #e8f5e8; border-radius: 8px;">
                        <div style="font-size: 2rem; color: #2e7d32;">‚úÖ</div>
                        <div style="font-weight: 600; color: #2e7d32;">${okCount} Rotas OK</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #ffebee; border-radius: 8px;">
                        <div style="font-size: 2rem; color: #c62828;">‚ùå</div>
                        <div style="font-weight: 600; color: #c62828;">${errorCount} Com Problemas</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #e3f2fd; border-radius: 8px;">
                        <div style="font-size: 2rem; color: #1976d2;">üìä</div>
                        <div style="font-weight: 600; color: #1976d2;">${routes.length} Total</div>
                    </div>
                </div>
                <div style="margin-top: 15px; padding: 15px; background: ${okCount === routes.length ? '#e8f5e8' : '#fff3e0'}; border-radius: 8px; text-align: center;">
                    <h4 style="margin: 0; color: ${okCount === routes.length ? '#2e7d32' : '#e65100'};">
                        ${okCount === routes.length ? 'üéâ Todas as rotas funcionando!' : '‚ö†Ô∏è Algumas rotas precisam de aten√ß√£o'}
                    </h4>
                </div>
            `;

            console.log(`üèÅ Verifica√ß√£o conclu√≠da: ${okCount}/${routes.length} rotas funcionando`);
        }

        // Iniciar verifica√ß√£o
        checkAllRoutes();

        console.log('üöÄ Teste de rotas LegalFlow iniciado');
    </script>
</body>
</html>
